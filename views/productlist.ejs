<!DOCTYPE html>
<html lang="en">


<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->

<head>
  <meta charset="utf-8">
  <title>Electroâš¡ | Shop grid filters on top</title>
  <!-- SEO Meta Tags-->
  <meta name="description" content="Electro">
  <meta name="keywords"
    content="bootstrap, shop, e-commerce, market, modern, responsive,  business, mobile, bootstrap, html5, css3, js, gallery, slider, touch, creative, clean">
  <meta name="author" content="swalahCodes">
  <!-- Viewport-->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Favicon and Touch Icons-->

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" color="#fe6a6a" href="safari-pinned-tab.svg">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">
  <!-- Vendor Styles including: Font Icons, Plugins, etc.-->
  <link rel="stylesheet" media="screen" href="vendor/simplebar/dist/simplebar.min.css" />
  <link rel="stylesheet" media="screen" href="vendor/tiny-slider/dist/tiny-slider.css" />
  <link rel="stylesheet" media="screen" href="vendor/nouislider/dist/nouislider.min.css" />
  <link rel="stylesheet" media="screen" href="vendor/drift-zoom/dist/drift-basic.min.css" />
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"> </script>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <!-- Main Theme Styles + Bootstrap-->
  <link rel="stylesheet" media="screen" href="/css/theme.min.css">
  <!-- Google Tag Manager-->

</head>
<!-- Body-->

<body class="handheld-toolbar-enabled">
  <!-- Google Tag Manager (noscript)-->

  <!-- Sign in / sign up modal-->

  <main class="page-wrapper">
    <!-- Quick View Modal-->

    <!-- Navbar 3 Level (Light)-->
    <header class="shadow-sm">
      <!-- Topbar-->

      <!-- Remove "navbar-sticky" class to make navigation bar scrollable with the page.-->
      <div class="navbar-sticky bg-light">
        <div class="navbar navbar-expand-lg navbar-light">
          <div class="container"><a class="navbar-brand d-none d-sm-block flex-shrink-0" href="/home"><img
                src="/img/electro-logo.png" width="142" alt="/img/electro-logo.png"></a><a
              class="navbar-brand d-sm-none flex-shrink-0 me-2" href="/home"><img src="/img/electro-logo.png" width="74"
                Electro></a>

            <div class="navbar-toolbar d-flex flex-shrink-0 align-items-center">
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarCollapse"><span class="navbar-toggler-icon"></span></button><a
                class="navbar-tool navbar-stuck-toggler" href="#"><span class="navbar-tool-tooltip">Expand menu</span>
                <div class="navbar-tool-icon-box"><i class="navbar-tool-icon ci-menu"></i></div>
              </a>

              <form action="/productlist" method="get">
                <div class="input-group d-none d-lg-flex flex-nowrap mx-4"><i
                    class="ci-search position-absolute top-50 start-0 translate-middle-y ms-3"></i>

                  <input name="search" class="form-control rounded-start w-100" type="text"
                    placeholder="Search for products">
              </form>


              <select onchange="categoryFilter(this.value)" class="form-select flex-shrink-0" style="width: 10.5rem;">
                <option>Select Categories</option>
                <% categoryData.forEach(element=> { %>
                  <option value="<%= element._id %>">
                    <%= element.name %>
                  </option>
                  <% }); %>
              </select>
            </div>

          </div>
          <a class="navbar-tool d-none d-lg-flex" href="/wishlist"><span class="navbar-tool-tooltip">Wishlist</span>
            <div class="navbar-tool-icon-box"><i class="navbar-tool-icon ci-heart"></i></div>
          </a>
          </a>

          </a>
          <% if (isUserLogged) {%>
            <a class=" bg-faded-dark rounded-3 navbar-tool px-4 d-none d-lg-flex" href="/userProfile"><span
                class="navbar-tool-tooltip">Profile</span><span class="">
                <%= user.name %>
              </span>
              <div class="navbar-tool-icon-box">
                <i class="navbar-tool-icon ci-user "></i>

              </div>
            </a>

            <% if (user.cart.items.length===0) {%>
              <div class="navbar-tool  ms-3"><a class="navbar-tool-icon-box bg-secondary " href="/cartmanage"><span
                    class="navbar-tool-label" id="cartLength">

                    0
                  </span><i class="navbar-tool-icon ci-cart"></i></a><a class="navbar-tool-text"
                  href="/cartmanage"><small>My
                    Cart</small> <span id="totalPrice"> â‚¹0</span> </a>
                <!-- Cart dropdown-->

              </div>
              <% } else {%>
                <div class="navbar-tool  ms-3"><a class="navbar-tool-icon-box bg-secondary " href="/cartmanage"><span
                      class="navbar-tool-label" id="cartLength">

                      <%= user.cart.items.length %>
                    </span><i class="navbar-tool-icon ci-cart"></i></a><a class="navbar-tool-text"
                    href="/cartmanage"><small>My
                      Cart</small> <span id="totalPrice"> â‚¹<%= user.cart.totalPrice %></span> </a>
                  <!-- Cart dropdown-->

                </div>
                <%} %>

                  <%} else {%>
                    <a class=" bg-faded-dark rounded-3 navbar-tool px-4 d-none d-lg-flex" href="/userProfile"><span
                        class="navbar-tool-tooltip">Profile</span><span class="text-dark">Login</span>
                      <div class="navbar-tool-icon-box">
                        <i class="navbar-tool-icon ci-user "></i>

                      </div>
                    </a>
                    <div class="navbar-tool  ms-3"><a class="navbar-tool-icon-box bg-secondary " href="/register"><span
                          class="navbar-tool-label" id="cartLength">

                          âˆž
                        </span><i class="navbar-tool-icon ci-cart"></i></a><a class="navbar-tool-text" href="/register">
                      </a>
                      <!-- Cart dropdown-->

                    </div>
                    <% } %>


        </div>
      </div>
      </div>
      <div class="navbar navbar-expand-lg navbar-light navbar-stuck-menu mt-n2 pt-0 pb-2">
        <div class="container">
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <!-- Search-->

            <!-- Departments menu-->

            <!-- Primary menu-->
            <ul class="navbar-nav">
              <li class="nav-item active"><a class="nav-link" href="/home">Home</a>

              </li>
              <li class="nav-item "><a class="nav-link " href="/productlist">Shop</a>
                ,
              </li>
              <li class="nav-item dropdown"><a class="nav-link " href="/userProfile"
                  data-bs-auto-close="outside">Account</a>

              </li>
              <li class="nav-item dropdown"><a class="nav-link " href="/wishlist"
                  data-bs-auto-close="outside">Wishlist</a>

              </li>

            </ul>
          </div>
        </div>
      </div>
      </div>
    </header>
    <!-- Page Title (Shop Alt)-->
    <!-- used for shop templates with filters on top-->
    <div class="bg-dark pt-4 pb-5">
      <div class="container pt-2 pb-3 pt-lg-3 pb-lg-4">
        <div class="d-lg-flex justify-content-between pb-3">
          <div class="order-lg-2 mb-3 mb-lg-0 pt-lg-2">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb breadcrumb-light flex-lg-nowrap justify-content-center justify-content-lg-start">
                <li class="breadcrumb-item"><a class="text-nowrap" href="/home"><i class="ci-home"></i>Home</a>
                </li>
                <li class="breadcrumb-item text-nowrap"><a href="#">Shop</a>
                </li>

              </ol>
            </nav>
          </div>
          <div class="order-lg-1 pe-lg-4 text-center text-lg-start">
            <h1 class="h3 text-light mb-0">Product List</h1>
          </div>
        </div>
      </div>
    </div>
    <div class="container pb-5 mb-2 mb-md-4">
      <div class="bg-light shadow-lg rounded-3 p-4 mt-n5 mb-4">
        <div class="d-flex justify-content-between align-items-center">

          <div class="dropdown me-2">
            <div class="input-group">


              <select onchange="sortFilter(this.value)" name="sort" class="form-select">
                <option value="1">Sort Price </option>
                <option value="1">Low to high</option>
                <option value="2">High to low</option>

              </select>
            </div>
          </div>



        </div>
        <!-- Toolbar with expandable filters-->

      </div>
    </div>
    <!-- Products grid-->




    <!-- Products grid-->
    <div id="reloadFilter" class="row mx-3">
      <!-- Product-->
      <% product.forEach((product, i)=> { %>
        <div class="col-lg-3 col-md-4 col-sm-6 px-2 mb-4">
          <div class="card product-card">
            <button onclick="addToWishlist('<%= product._id %>')" class="btn-wishlist btn-sm" type="button"
              data-bs-toggle="tooltip" data-bs-placement="left" title="Add to wishlist"><i
                class="ci-heart"></i></button><a class="d-flex justify-content-center card-img-topoverflow-hidden"
              href="/productdetail?id=<%= product._id%>"><img style="width: 200px; object-fit: fill;" class="rounded"
                src="<%= product.image[1] %>" alt="Product"></a>
            <div class="card-body py-2"><a class="product-meta d-block fs-xs pb-1" href="#">
                <%= product.category.name %>
              </a>
              <h3 class="product-title fs-sm"><a href="/productdetail?id=<%= product._id%>">
                  <%= product.name %>
                </a></h3>
              <div class="d-flex justify-content-between">
                <div class="product-price"><span class="text-accent">â‚¹ <%= product.discount %>
                      <small style="color: red;"><s> â‚¹<%= product.price %> </s></small>
                  </span></div>

              </div>
            </div>
            <div class="card-body card-body-hidden">

              <button onclick="addToCart('<%=product._id %>')" class="btn btn-primary btn-sm d-block w-100 mb-2"
                type="submit"><i class="ci-cart fs-sm me-1"></i>Add to Cart</button>


            </div>
          </div>
          <hr class="d-sm-none">
        </div>
        <% }); %>
          <!-- Product-->

          <!-- Product-->

    </div>

    <hr class="my-3 ">
    <!-- Pagination-->
    <nav class="d-flex justify-content-center pt-2 pb-3" aria-label="Page navigation">
      <ul class="pagination">
        <li class="page-item"><a class="page-link" href="#"><i class="ci-arrow-left me-2"></i>Prev</a></li>
      </ul>
      <ul class="pagination">
        <li class="page-item d-sm-none"><span class="page-link page-link-static">1 / 5</span></li>
        <li class="page-item active d-none d-sm-block" aria-current="page"><span class="page-link">1<span
              class="visually-hidden">(current)</span></span></li>
        <li class="page-item d-none d-sm-block"><a class="page-link" href="#">2</a></li>
        <li class="page-item d-none d-sm-block"><a class="page-link" href="#">3</a></li>
        <li class="page-item d-none d-sm-block"><a class="page-link" href="#">4</a></li>
        <li class="page-item d-none d-sm-block"><a class="page-link" href="#">5</a></li>
      </ul>
      <ul class="pagination">
        <li class="page-item"><a class="page-link" href="#" aria-label="Next">Next<i
              class="ci-arrow-right ms-2"></i></a></li>
      </ul>
    </nav>
    </div>
  </main>
  <!-- Footer--> 
    
    <footer class="footer bg-dark ">
  
  <div class="pt-5 bg-darker">
    <div class="container">
      <div class="row pb-3">
        <div class="col-md-12 col-sm-12 mb-4">
          <div class="d-flex justify-content-center"><i class="ci-lightning text-primary" style="font-size: 2.25rem;"></i>
            <div class="ps-3">
              <h6 class="fs-base text-light mb-1">Electro by <span class="text-primary">  <a href="https://github.com/ahmadsalahuddeen">@salahCodes</a> </span> </h6>
              <h6  class="mb-0 fs-ms  font-monospace text-white   opacity-50">This project is build to practice and learn Backend in my journey of becoming a Full-stack developer (Mern (thinking about switching to svelt :-)), practiced Nodejs, Express, Mongodb, MVC pattern, RestAPI and many more. {note: 65% of userInterface(html, css, bootstrap) is obtained from a template. as my primary objective was to learn amd improve my Backend Skills (You can visit my <a href="https://github.com/ahmadsalahuddeen"><span class="text-success text-opacity-100">github</span></a>  to see my other Projects) } </h6>
            </div>
          </div>
        </div>
        
      <hr class="hr-light mb-5">
      <div class="row pb-2">
        <div class="col-md-6 text-center text-md-start mb-4">
          <div class="text-nowrap rounded p-3 bg-white mb-4"><a class="d-inline-block align-middle mt-n1 me-3" href="#"><img class="d-block"
                src="/img/electro-logo.png" width="117" Electro></a>
           
          </div>
          
        </div>
        <div class="col-md-6 text-center text-md-end mb-4">
          <div class="mb-3"><a class="btn-social bs-light bs-twitter ms-2 mb-2" href="https://twitter.com/salahuddeen6017"><i
                class="ci-twitter"></i></a>
                <a class="btn-social bs-light bs-instagram ms-2 mb-2" href="https://www.instagram.com/salahcodes/"><i
                class="ci-instagram"></i></a>
                <a class="btn-social bs-light bs-instagram ms-2 mb-2" href="https://github.com/ahmadsalahuddeen"><i
                ><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
                  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                </svg></i></a>
                <a class="btn-social bs-light bs-youtube ms-2 mb-2" href="https://www.youtube.com/channel/UCOyK9QcS9N_Fn_2OVbuH7qQ"><i
                class="ci-youtube"></i></a></div>
               </div>
        </div>
      </div>
      <div class="pb-4 fs-xs text-light opacity-50 text-center text-md-start">Â© openSourced by <a
          class="text-light" href="https://github.com/ahmadsalahuddeen" target="_blank" rel="noopener">ahmad salahuddeen (salahCodes)</a></div>
    </div>
  </div>
 </footer>
  <!-- Toolbar for handheld devices (Default)-->
  <div class="handheld-toolbar">
    <div class="d-table table-layout-fixed w-100"><a class="d-table-cell handheld-toolbar-item"
        href="/wishlist"><span class="handheld-toolbar-icon"><i class="ci-heart"></i></span><span
          class="handheld-toolbar-label">Wishlist</span></a>
          <a class="d-table-cell handheld-toolbar-item"
        href="javascript:void(0)" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
        onclick="window.scrollTo(0, 0)"><span class="handheld-toolbar-icon"><i class="ci-menu"></i></span><span
          class="handheld-toolbar-label">Menu</span></a>
          <a class="d-table-cell handheld-toolbar-item"
        href="/cartmanage"><span class="handheld-toolbar-icon"><i class="ci-cart"></i><span
            class="badge bg-primary rounded-pill ms-1">4</span></span><span
          class="handheld-toolbar-label"></span></a></div>
  </div>
  <!-- Back To Top Button--><a class="btn-scroll-top" href="#top" data-scroll><span
      class="btn-scroll-top-tooltip text-muted fs-sm me-2">Top</span><i class="btn-scroll-top-icon ci-arrow-up">
    </i></a>
  <!-- Vendor scrits: js libraries and plugins-->
  <script src="vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="vendor/simplebar/dist/simplebar.min.js"></script>
  <script src="vendor/tiny-slider/dist/min/tiny-slider.js"></script>
  <script src="vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
  <script src="vendor/nouislider/dist/nouislider.min.js"></script>
  <script src="vendor/drift-zoom/dist/Drift.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>


  <!-- Main theme script-->
  <script src="js/theme.min.js"></script>
  <script>

 
    const addToCart = (productId) => {
      console.log("kdfhsdkfhsldfhskdj", productId);
      $.ajax({
        url: '/addtocart',
        method: 'POST',
        data: {
          productid: productId
        },
        success: (response) => {
          console.log("akdfhsdhfjhsgd", response);
          document.getElementById('totalPrice').innerHTML = `â‚¹  ${response.totalPrice}`,
            document.getElementById('cartLength').innerHTML = response.cartLength
          Swal.fire({
            position: 'top-start',
            icon: 'success',
            widtth: '100',
            padding: '1em',
            text: 'Product Added to Cart ðŸ›’',
            showConfirmButton: false,
            timer: 750
          })

        }

      })
    }
    const toastMixin = Swal.mixin({
      toast: true,
      icon: 'success',
      title: 'General Title',
      animation: false,
      position: 'top-right',
      showConfirmButton: false,
      timer: 1500,
      timerProgressBar: true,
      didOpen: (toast) => {
        toast.addEventListener('mouseenter', Swal.stopTimer)
        toast.addEventListener('mouseleave', Swal.resumeTimer)
      }
    });


    const addToWishlist = (productId) => {

      $.ajax(
        {
          url: `/addToWishlist?id=${productId}`,
          method: 'POST',
          success: (res) => {

            if (res.exists) {
              toastMixin.fire({
                title: 'Product is Already in Wishlist',
                icon: 'warning',
                iconColor: '#fff',
                color: '#fff',
                background: '#cc3300',
              });
            } else {
              toastMixin.fire({
                title: "product added to WishlistðŸŒŸ",
                icon: 'success',
                iconColor: '#fff',
                color: '#fff',

                background: '#228B22',
              })
            }

          }
        }
      )
    }


  </script>
  <script src="js/search.js"></script>
</body>



</html>